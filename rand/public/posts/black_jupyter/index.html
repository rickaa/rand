<!DOCTYPE html>
<html lang="en" itemscope itemtype="http://schema.org/WebPage">
  <head>
    

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">

  <title>Black ‚ù§ Jupyter - rand[om]</title>
  <meta name="description" content="After nearly a year coding in Python (although not consistently), I started trying code formatters and discovered they were more useful than I thought. Here are some reason why.">
  <meta name="author" content="Ricardo Ander-Egg"/><script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "WebSite",
    "name": "rand[om]",
    
    "url": "https:\/\/ricardoanderegg.com\/"
}
</script><script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Organization",
  "name": "",
  "url": "https:\/\/ricardoanderegg.com\/"
  
  
  
  
}
</script>
<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [{
        "@type": "ListItem",
        "position": 1,
        "item": {
          "@id": "https:\/\/ricardoanderegg.com\/",
          "name": "home"
        }
    },{
        "@type": "ListItem",
        "position": 3,
        "item": {
          "@id": "https:\/\/ricardoanderegg.com\/posts\/black_jupyter\/",
          "name": "Black ‚ù§ jupyter"
        }
    }]
}
</script><script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Article",
  "author": {
    "name" : "Ricardo"
  },
  "headline": "Black ‚ù§ Jupyter",
  "description" : "After nearly a year coding in Python (although not consistently), I started trying code formatters and discovered they were more useful than I thought. Here are some reason why.\n",
  "inLanguage" : "en",
  "wordCount":  1569 ,
  "datePublished" : "2019-07-22T00:00:00",
  "dateModified" : "2019-07-22T00:00:00",
  "image" : "https:\/\/ricardoanderegg.com\/img\/bike.jpeg",
  "keywords" : [ "pandas, formatting, black, code, comprehension, list" ],
  "mainEntityOfPage" : "https:\/\/ricardoanderegg.com\/posts\/black_jupyter\/",
  "publisher" : {
    "@type": "Organization",
    "name" : "https:\/\/ricardoanderegg.com\/",
    "logo" : {
        "@type" : "ImageObject",
        "url" : "https:\/\/ricardoanderegg.com\/img\/bike.jpeg",
        "height" :  60 ,
        "width" :  60
    }
  }
}
</script>

<meta property="og:title" content="Black ‚ù§ Jupyter" />
<meta property="og:description" content="After nearly a year coding in Python (although not consistently), I started trying code formatters and discovered they were more useful than I thought. Here are some reason why.">

<meta property="og:image" content="https://ricardoanderegg.com/img/bike.jpeg" />

<meta property="og:url" content="https://ricardoanderegg.com/posts/black_jupyter/" />
<meta property="og:type" content="website" />
<meta property="og:site_name" content="rand[om]" />

  <meta name="twitter:title" content="Black ‚ù§ Jupyter" />
<meta name="twitter:description" content="After nearly a year coding in Python (although not consistently), I started trying code formatters and discovered they were more useful than I thought. Here are some reason why.">

<meta name="twitter:image" content="https://ricardoanderegg.com/img/bike.jpeg" />

<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@ricardoanderegg" />
<meta name="twitter:creator" content="@ricardoanderegg" />

  <link href='https://ricardoanderegg.com/img/favicon.ico' rel='icon' type='image/x-icon'/>
  <meta name="generator" content="Hugo 0.65.2" />
  <link rel="alternate" href="https://ricardoanderegg.com/index.xml" type="application/rss+xml" title="rand[om]"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css" integrity="sha384-9eLZqc9ds8eNjO3TmqPeYcDj8n+Qfa4nuSiGYa6DjLNcv9BtN69ZIulL9+8CqC9Y" crossorigin="anonymous">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous"><link rel="stylesheet" href="https://ricardoanderegg.com/css/main.css" /><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" />
  <link rel="stylesheet" href="https://ricardoanderegg.com/css/highlight.min.css" /><link rel="stylesheet" href="https://ricardoanderegg.com/css/codeblock.css" /><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.css" integrity="sha384-h/L2W9KefUClHWaty3SLE5F/qvc4djlyR4qY3NUV5HGQBBW7stbcfff1+I/vmsHh" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/default-skin/default-skin.min.css" integrity="sha384-iD0dNku6PYSIQLyfTOpB06F2KCZJAKLOThS5HRe8b3ibhdEQ6eKsFf/EeFxdOt5R" crossorigin="anonymous">



  </head>
  <body>
    <nav class="navbar navbar-default navbar-fixed-top navbar-custom">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#main-navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="https://ricardoanderegg.com/">rand[om]</a>
    </div>

    <div class="collapse navbar-collapse" id="main-navbar">
      <ul class="nav navbar-nav navbar-right">
        
          
            <li>
              <a title="Blog" href="/posts">Blog</a>
            </li>
          
        
          
            <li>
              <a title="Thoughts" href="/thoughts">Thoughts</a>
            </li>
          
        
          
            <li>
              <a title="About" href="/page/about">About</a>
            </li>
          
        

        

        
      </ul>
    </div>

    
      <div class="avatar-container">
        <div class="avatar-img-border">
          <a title="rand[om]" href="https://ricardoanderegg.com/">
            <img class="avatar-img" src="https://ricardoanderegg.com/img/bike.jpeg" alt="rand[om]" />
          </a>
        </div>
      </div>
    

  </div>
</nav>




    


<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

<div class="pswp__bg"></div>

<div class="pswp__scroll-wrap">
    
    <div class="pswp__container">
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
    </div>
    
    <div class="pswp__ui pswp__ui--hidden">
    <div class="pswp__top-bar">
      
      <div class="pswp__counter"></div>
      <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
      <button class="pswp__button pswp__button--share" title="Share"></button>
      <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
      <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
      
      
      <div class="pswp__preloader">
        <div class="pswp__preloader__icn">
          <div class="pswp__preloader__cut">
            <div class="pswp__preloader__donut"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
      <div class="pswp__share-tooltip"></div>
    </div>
    <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
    </button>
    <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
    </button>
    <div class="pswp__caption">
      <div class="pswp__caption__center"></div>
    </div>
    </div>
    </div>
</div>


  
  
  






  

  <header class="header-section ">
    
    <div class="intro-header no-img">
      <div class="container">
        <div class="row">
          <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
            <div class="posts-heading">
              
                <h1>Black ‚ù§ Jupyter</h1>
              
              
                <hr class="small">
              
              
              
            </div>
          </div>
        </div>
      </div>
    </div>
  </header>


    
<div class="container" role="main">
  <div class="row">
    <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
      <article role="main" class="blog-post">
        <p>After nearly a year coding in Python (although not consistently), I started trying code formatters and discovered they were more useful than I thought. Here are some reason why.</p>
<p>First of all I must admit these tips may be biased by the fact I use <a href="https://jupyterlab.readthedocs.io/en/stable/">Jupyter Notebooks</a> quite a lot. I think they are an incredible tool for learning although they may also instill some bad coding habits.</p>
<p>Before talking about <a href="https://github.com/psf/black">black</a> lets go through the step to install it and use it with Jupyter Notebooks.</p>
<h2 id="installing-black-and-using-it-with-jupyter">Installing black and using it with Jupyter</h2>
<p>Luckily for us, there is a Jupyterlab <a href="https://github.com/ryantam626/jupyterlab_code_formatter">extension</a> for code formatting. To get started you only need 4 commands if you are using <strong>conda</strong>:</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">conda install -c conda-forge black
jupyter labextension install @ryantam626/jupyterlab_code_formatter
conda install -c conda-forge jupyterlab_code_formatter
jupyter serverextension <span class="nb">enable</span> --py jupyterlab_code_formatter
</code></pre></div><p>If you are using <strong>pip</strong> you need to install the one of the supported formatters (black in this case) and then do:</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">jupyter labextension install @ryantam626/jupyterlab_code_formatter
pip install jupyterlab_code_formatter
jupyter serverextension <span class="nb">enable</span> --py jupyterlab_code_formatter
</code></pre></div><p>Finally, what really helps me using black continuously, is having a handy shortcut to run it in the current cell. In my case I use <strong>ctrl + k</strong>, you can add it to your jupyterlab shortcuts pasting the following in your shortcuts settings editor:</p>
<div class="highlight"><pre class="chroma"><code class="language-json" data-lang="json"><span class="p">{</span>

    <span class="nt">&#34;shortcuts&#34;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
                <span class="nt">&#34;command&#34;</span><span class="p">:</span> <span class="s2">&#34;jupyterlab_code_formatter:black&#34;</span><span class="p">,</span>
                <span class="nt">&#34;keys&#34;</span><span class="p">:</span> <span class="p">[</span>
                    <span class="s2">&#34;Ctrl K&#34;</span>
                <span class="p">],</span>
                <span class="nt">&#34;selector&#34;</span><span class="p">:</span> <span class="s2">&#34;.jp-Notebook.jp-mod-editMode&#34;</span>
            <span class="p">}</span>
        <span class="p">]</span>
<span class="p">}</span>
</code></pre></div><p>Now lets go back to code ‚ùóÔ∏è</p>
<h2 id="pandas-method-chaining">Pandas method chaining</h2>
<p>I believe one of those bad habits that Jupyter creates is writing code that doesn&rsquo;t look very clean when used outside the notebook. One case can be when using <a href="https://tomaugspurger.github.io/method-chaining">method-chaining</a> in Pandas, which is the currently promoted style when cleaning data. Lets look at an example.</p>
<div class="highlight"><pre class="chroma"><code class="language-python" data-lang="python"><span class="k">def</span> <span class="nf">read_messages</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
    <span class="n">df</span> <span class="o">=</span> <span class="p">(</span>
        <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span>
            <span class="n">path</span><span class="p">,</span>
            <span class="n">delimiter</span><span class="o">=</span><span class="s2">&#34;;&#34;</span><span class="p">,</span>
            <span class="n">dtype</span><span class="o">=</span><span class="p">{</span><span class="s2">&#34;id&#34;</span><span class="p">:</span> <span class="s2">&#34;int&#34;</span><span class="p">,</span>
                   <span class="s2">&#34;type&#34;</span><span class="p">:</span> <span class="s2">&#34;category&#34;</span><span class="p">,</span>
                   <span class="s2">&#34;title&#34;</span><span class="p">:</span> <span class="s2">&#34;str&#34;</span><span class="p">,</span>
                   <span class="s2">&#34;text&#34;</span><span class="p">:</span> <span class="s2">&#34;str&#34;</span><span class="p">})</span>
        <span class="o">.</span><span class="n">drop</span><span class="p">([</span><span class="s2">&#34;Unnamed: 0&#34;</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="c1"># dates</span>
        <span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="n">date</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="s2">&#34;date&#34;</span><span class="p">],</span> <span class="n">format</span><span class="o">=</span><span class="s2">&#34;%Y-%m-</span><span class="si">%d</span><span class="s2"> %H:%M:%S&#34;</span><span class="p">),</span>
                <span class="n">date_start</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="s2">&#34;date_start&#34;</span><span class="p">],</span> <span class="n">format</span><span class="o">=</span><span class="s2">&#34;%Y-%m-</span><span class="si">%d</span><span class="s2"> %H:%M:%S&#34;</span><span class="p">),</span>
                <span class="n">date_end</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="s2">&#34;date_end&#34;</span><span class="p">],</span> <span class="n">format</span><span class="o">=</span><span class="s2">&#34;%Y-%m-</span><span class="si">%d</span><span class="s2"> %H:%M:%S&#34;</span><span class="p">))</span>
        <span class="c1"># others</span>
        <span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="n">txt_length</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">len</span><span class="p">(),</span>
                <span class="n">word_number</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">split</span><span class="p">()</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="nb">len</span><span class="p">),</span>
                <span class="n">date</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="s2">&#34;date&#34;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">y</span><span class="p">:</span> <span class="n">y</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&#34;%Y-%m-</span><span class="si">%d</span><span class="s2">&#34;</span><span class="p">)),</span> <span class="n">format</span><span class="o">=</span><span class="s2">&#34;%Y-%m-</span><span class="si">%d</span><span class="s2">&#34;</span><span class="p">,),</span>
                <span class="n">hour</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="s2">&#34;date&#34;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">y</span><span class="p">:</span> <span class="n">y</span><span class="o">.</span><span class="n">hour</span><span class="p">)))</span>

    <span class="k">return</span> <span class="n">df</span>
</code></pre></div><p>That is probably the best we would do if we were writing code and experimenting with data cleaning functions. Even though it looks quite readable (I think when you get used to method chaining it gets a lot easier to read the code), there are a lot of parentheses, indents and long functions.</p>
<p>This is how it looks when we apply <a href="https://github.com/python/black">black</a> to it.</p>
<div class="highlight"><pre class="chroma"><code class="language-python" data-lang="python"><span class="k">def</span> <span class="nf">read_messages</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
    <span class="n">df</span> <span class="o">=</span> <span class="p">(</span>
        <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span>
            <span class="n">path</span><span class="p">,</span>
            <span class="n">delimiter</span><span class="o">=</span><span class="s2">&#34;;&#34;</span><span class="p">,</span>
            <span class="n">dtype</span><span class="o">=</span><span class="p">{</span><span class="s2">&#34;id&#34;</span><span class="p">:</span> <span class="s2">&#34;int&#34;</span><span class="p">,</span> <span class="s2">&#34;type&#34;</span><span class="p">:</span> <span class="s2">&#34;category&#34;</span><span class="p">,</span> <span class="s2">&#34;title&#34;</span><span class="p">:</span> <span class="s2">&#34;str&#34;</span><span class="p">,</span> <span class="s2">&#34;text&#34;</span><span class="p">:</span> <span class="s2">&#34;str&#34;</span><span class="p">},</span>
        <span class="p">)</span>
        <span class="o">.</span><span class="n">drop</span><span class="p">([</span><span class="s2">&#34;Unnamed: 0&#34;</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="c1"># dates</span>
        <span class="o">.</span><span class="n">assign</span><span class="p">(</span>
            <span class="n">date</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="s2">&#34;date&#34;</span><span class="p">],</span> <span class="n">format</span><span class="o">=</span><span class="s2">&#34;%Y-%m-</span><span class="si">%d</span><span class="s2"> %H:%M:%S&#34;</span><span class="p">),</span>
            <span class="n">date_start</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span>
                <span class="n">x</span><span class="p">[</span><span class="s2">&#34;date_start&#34;</span><span class="p">],</span> <span class="n">format</span><span class="o">=</span><span class="s2">&#34;%Y-%m-</span><span class="si">%d</span><span class="s2"> %H:%M:%S&#34;</span>
            <span class="p">),</span>
            <span class="n">date_end</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span>
                <span class="n">x</span><span class="p">[</span><span class="s2">&#34;date_end&#34;</span><span class="p">],</span> <span class="n">format</span><span class="o">=</span><span class="s2">&#34;%Y-%m-</span><span class="si">%d</span><span class="s2"> %H:%M:%S&#34;</span>
            <span class="p">),</span>
        <span class="p">)</span>
        <span class="o">.</span><span class="n">assign</span><span class="p">(</span>
            <span class="n">txt_length</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">len</span><span class="p">(),</span>
            <span class="n">word_number</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">split</span><span class="p">()</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="nb">len</span><span class="p">),</span>
            <span class="n">date</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span>
                <span class="n">x</span><span class="p">[</span><span class="s2">&#34;date&#34;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">y</span><span class="p">:</span> <span class="n">y</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&#34;%Y-%m-</span><span class="si">%d</span><span class="s2">&#34;</span><span class="p">)),</span> <span class="n">format</span><span class="o">=</span><span class="s2">&#34;%Y-%m-</span><span class="si">%d</span><span class="s2">&#34;</span>
            <span class="p">),</span>
            <span class="n">hour</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="s2">&#34;date&#34;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">y</span><span class="p">:</span> <span class="n">y</span><span class="o">.</span><span class="n">hour</span><span class="p">),</span>
        <span class="p">)</span>
    <span class="p">)</span>

    <span class="k">return</span> <span class="n">df</span>
</code></pre></div><p>That looks a lot better, and most importantly, it gets incredibily easier to debug when you get an error. At first I thought I would be using black only after I finished writing my functions, but now it&rsquo;s actually the other way around, by constantly keeping the same clean code style I can spot the bugs faster.</p>
<h2 id="long-messy-functions">Long, messy functions</h2>
<p>Now we are going to simulate a function with many parameters. This example was taken from the great blog <a href="http://www.blog.pythonlibrary.org/2019/07/16/intro-to-black-the-uncompromising-python-code-formatter/">Mouse vs Python</a> by <a href="https://twitter.com/driscollis">Mike Driscoll</a>.</p>
<div class="highlight"><pre class="chroma"><code class="language-python" data-lang="python"><span class="k">def</span> <span class="nf">long_func</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">param_one</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">param_two</span><span class="o">=</span><span class="p">[],</span> <span class="n">param_three</span><span class="o">=</span><span class="p">{},</span> <span class="n">param_four</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">param_five</span><span class="o">=</span><span class="s2">&#34;&#34;</span><span class="p">,</span> <span class="n">param_six</span><span class="o">=</span><span class="mi">123456</span><span class="p">):</span>
    <span class="k">print</span><span class="p">(</span><span class="n">f</span><span class="s2">&#34;{param_three[&#39;first&#39;]}&#34;</span><span class="p">)</span>
</code></pre></div><p>The function takes a lot of (unnecessary) arguments and then prints one of the values of the <code>dictionary</code> <em>param_three</em>. But what happens if we pass a <code>list</code> instead is that we get an error, and we can see that with such a long function, if the parameters were more difficult to debug and read this could turn out in one of these bugs that look abvious to solve but you can&rsquo;t find which parameter you are messing with.</p>
<div class="highlight"><pre class="chroma"><code class="language-python" data-lang="python"><span class="n">long_func</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">param_one</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">param_two</span><span class="o">=</span><span class="p">[],</span> <span class="n">param_three</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;cat&#39;</span><span class="p">],</span> <span class="n">param_four</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">param_five</span><span class="o">=</span><span class="s2">&#34;&#34;</span><span class="p">,</span> <span class="n">param_six</span><span class="o">=</span><span class="mi">123456</span><span class="p">)</span>
</code></pre></div><pre><code>---------------------------------------------------------------------------

TypeError                                 Traceback (most recent call last)

&lt;ipython-input-49-72b71a3bb5df&gt; in &lt;module&gt;
----&gt; 1 long_func(2, param_one=None, param_two=[], param_three=['cat'], param_four=None, param_five=&quot;&quot;, param_six=123456)


&lt;ipython-input-48-748a355c1dbb&gt; in long_func(x, param_one, param_two, param_three, param_four, param_five, param_six)
      1 def long_func(x, param_one=None, param_two=[], param_three={}, param_four=None, param_five=&quot;&quot;, param_six=123456):
----&gt; 2     print(f&quot;{param_three['first']}&quot;)


TypeError: list indices must be integers or slices, not str
</code></pre>
<p>This is how it looks like after applying black, a lot better!</p>
<div class="highlight"><pre class="chroma"><code class="language-python" data-lang="python"><span class="k">def</span> <span class="nf">long_func</span><span class="p">(</span>
    <span class="n">x</span><span class="p">,</span>
    <span class="n">param_one</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
    <span class="n">param_two</span><span class="o">=</span><span class="p">[],</span>
    <span class="n">param_three</span><span class="o">=</span><span class="p">{},</span>
    <span class="n">param_four</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
    <span class="n">param_five</span><span class="o">=</span><span class="s2">&#34;&#34;</span><span class="p">,</span>
    <span class="n">param_six</span><span class="o">=</span><span class="mi">123456</span><span class="p">,</span>
<span class="p">):</span>
    <span class="k">print</span><span class="p">(</span><span class="n">f</span><span class="s2">&#34;{param_three[&#39;first&#39;]}&#34;</span><span class="p">)</span>
</code></pre></div><p>Even if we wanted to do type annotations it would be easy to read:</p>
<div class="highlight"><pre class="chroma"><code class="language-python" data-lang="python"><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">List</span><span class="p">,</span> <span class="n">Dict</span><span class="p">,</span> <span class="n">Tuple</span>


<span class="k">def</span> <span class="nf">long_func</span><span class="p">(</span>
    <span class="n">x</span><span class="p">,</span>
    <span class="n">param_one</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="bp">None</span><span class="p">,</span>
    <span class="n">param_two</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">[],</span>
    <span class="n">param_three</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;first&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">},</span>
    <span class="n">param_four</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span><span class="p">,</span>
    <span class="n">param_five</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
    <span class="n">param_six</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">123456.34</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    
    <span class="k">print</span><span class="p">(</span><span class="n">f</span><span class="s2">&#34;{param_three[&#39;first&#39;]}&#34;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">param_three</span><span class="p">[</span><span class="s1">&#39;first&#39;</span><span class="p">]</span>
</code></pre></div><p>Another thing I love about black is that it won&rsquo;t reformat the code if there are syntax mistakes, and sometimes this has let me spot the before executing a slow function, which would have made me notice the error only during runtime.</p>
<p>For example in the function above if we had used <code>--&gt;</code> for the return value annotation instead of <code>-&gt;</code> (this has happened to me very often), black would not have changed the original (unreadable) function.</p>
<div class="highlight"><pre class="chroma"><code class="language-python" data-lang="python"><span class="k">def</span> <span class="nf">long_func</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">param_one</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="bp">None</span><span class="p">,</span> <span class="n">param_two</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">[],</span> <span class="n">param_three</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;first&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">},</span>
              <span class="n">param_four</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span><span class="p">,</span> <span class="n">param_five</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
              <span class="n">param_six</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">123456.34</span><span class="p">)</span> <span class="o">--&gt;</span> <span class="nb">bool</span><span class="p">:</span>
                                    <span class="c1">##     ^^^^ this is not correct</span>
                                    <span class="c1">##     so this cell won&#39;t be formatted</span>
                                    <span class="c1">##     when applying black!</span>
                                    <span class="c1">##</span>
                                    <span class="c1">##     I&#39;m using &#39;bool&#39; because I added</span>
                                    <span class="c1">##     a return True at the end.</span>
                            
    <span class="k">print</span><span class="p">(</span><span class="n">f</span><span class="s2">&#34;{param_three[&#39;first&#39;]}&#34;</span><span class="p">)</span>

    <span class="k">return</span> <span class="bp">True</span>
</code></pre></div><pre><code>  File &quot;&lt;ipython-input-1-e610204a317b&gt;&quot;, line 3
    param_six: float = 123456.34) --&gt; bool:
                                  ^
SyntaxError: invalid syntax
</code></pre>
<h2 id="bonus">Bonus</h2>
<p>Since we are talking about formatting and debugging, I would like to show something I found recently, and it is the advantages of splitting code in multiple lines.</p>
<p>To illustrate it I am going to use list comprehensions. The example is taken from this <a href="https://treyhunner.com/2019/03/abusing-and-overusing-list-comprehensions-in-python/">blog post</a> by <a href="https://twitter.com/treyhunner">@treyhunner</a>, which I highly recommend.</p>
<p>We are going to write a function to get the factors of a number using a list comprehension.</p>
<div class="highlight"><pre class="chroma"><code class="language-python" data-lang="python"><span class="k">def</span> <span class="nf">get_factors</span><span class="p">(</span><span class="n">dividend</span><span class="p">):</span>
    <span class="s2">&#34;&#34;&#34;Return a list of all factors of the given number.&#34;&#34;&#34;</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">n</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">dividend</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="k">if</span> <span class="n">dividend</span> <span class="o">%</span> <span class="n">n</span> <span class="o">==</span> <span class="mi">0</span><span class="p">]</span>
</code></pre></div><div class="highlight"><pre class="chroma"><code class="language-python" data-lang="python"><span class="n">get_factors</span><span class="p">(</span><span class="mi">134</span><span class="p">)</span>
</code></pre></div><pre><code>[1, 2, 67, 134]
</code></pre>
<p>But if we happen to mess the variables and we try to add an <strong>int</strong> and a <strong>string</strong>:</p>
<div class="highlight"><pre class="chroma"><code class="language-python" data-lang="python"><span class="k">def</span> <span class="nf">get_factors</span><span class="p">(</span><span class="n">dividend</span><span class="p">):</span>
    <span class="s2">&#34;&#34;&#34;Return a list of all factors of the given number.&#34;&#34;&#34;</span>

    <span class="n">num</span> <span class="o">=</span> <span class="s2">&#34;ops, this was supposed to be a number, not a string&#34;</span>

    <span class="k">return</span> <span class="p">[</span><span class="n">n</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">dividend</span> <span class="o">+</span> <span class="n">num</span><span class="p">)</span> <span class="k">if</span> <span class="n">dividend</span> <span class="o">%</span> <span class="n">n</span> <span class="o">==</span> <span class="mi">0</span><span class="p">]</span>
</code></pre></div><div class="highlight"><pre class="chroma"><code class="language-python" data-lang="python"><span class="n">get_factors</span><span class="p">(</span><span class="mi">134</span><span class="p">)</span>
</code></pre></div><pre><code>---------------------------------------------------------------------------

TypeError                                 Traceback (most recent call last)

&lt;ipython-input-56-dc9aa8e3ca2e&gt; in &lt;module&gt;
----&gt; 1 get_factors(134)


&lt;ipython-input-55-9abb3284b2d3&gt; in get_factors(dividend)
      4     num = &quot;ops, this was supposed to be a number, not a string&quot;
      5 
----&gt; 6     return [n for n in range(1, dividend + num) if dividend % n == 0]


TypeError: unsupported operand type(s) for +: 'int' and 'str'
</code></pre>
<p>Now we are getting an error, but we don&rsquo;t know exactly in what part of the comprehensions it is (this is just for illustration, in this case it is very easy to see where the bug is).</p>
<p>However, if we had sepparated the comprehension in multiple lines, we would now exactly where the error is:</p>
<div class="highlight"><pre class="chroma"><code class="language-python" data-lang="python"><span class="c1"># fmt: off</span>
<span class="k">def</span> <span class="nf">get_factors</span><span class="p">(</span><span class="n">dividend</span><span class="p">):</span>
    <span class="s2">&#34;&#34;&#34;Return a list of all factors of the given number.&#34;&#34;&#34;</span>
    
    <span class="n">num</span> <span class="o">=</span> <span class="s2">&#34;ops, this was supposed to be a number, not a string&#34;</span>

    <span class="k">return</span> <span class="p">[</span>
        <span class="n">n</span>
        <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">dividend</span> <span class="o">+</span> <span class="n">num</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">dividend</span> <span class="o">%</span> <span class="n">n</span> <span class="o">==</span> <span class="mi">0</span>
    <span class="p">]</span>
<span class="c1"># fmt: on</span>

<span class="n">get_factors</span><span class="p">(</span><span class="mi">134</span><span class="p">)</span>
</code></pre></div><pre><code>---------------------------------------------------------------------------

TypeError                                 Traceback (most recent call last)

&lt;ipython-input-57-88ff78e5b1e0&gt; in &lt;module&gt;
     12 # fmt: on
     13 
---&gt; 14 get_factors(134)


&lt;ipython-input-57-88ff78e5b1e0&gt; in get_factors(dividend)
      7     return [
      8         n
----&gt; 9         for n in range(1, dividend + num)
     10         if dividend % n == 0
     11     ]


TypeError: unsupported operand type(s) for +: 'int' and 'str'
</code></pre>
<p>We can see the interpreter points at the exact line (9) where the problematic variable is. This can also be useful when creating <strong>pandas pivot tables</strong>, since it&rsquo;s easy to make mistakes the first times you do it.</p>
<p>Lastly, notice the comments <code># fmt: off</code> and <code># fmt: on</code>. Those are because black would reformat that function to a one-line comprehension üòÇ, and with that comments we can avoid it.</p>
<div class="highlight"><pre class="chroma"><code class="language-python" data-lang="python"><span class="c1"># fmt: off</span>
<span class="k">def</span> <span class="nf">get_factors</span><span class="p">(</span><span class="n">dividend</span><span class="p">):</span>
    <span class="s2">&#34;&#34;&#34;Return a list of all factors of the given number.&#34;&#34;&#34;</span>
    <span class="k">return</span> <span class="p">[</span>
        <span class="n">n</span>
        <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">dividend</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">dividend</span> <span class="o">%</span> <span class="n">n</span> <span class="o">==</span> <span class="mi">0</span>
    <span class="p">]</span>
<span class="c1"># fmt: on</span>
</code></pre></div><p>In the end, formatting is something very personal. After starting to use black I found the consistency of the formatting really helped me be more productive and also understand the code faster we I went back to it.</p>
<p>The trend with Jupyter notebooks is quite clear, more and more tools keep appearing and more people are using them. One of the use cases for notebooks nowadays is teaching, and there&rsquo;s no doubt why, but being able to split your functions and outputs to make it clearer does not mean unreadable code is allowed. I believe many tutorials would be easier to follow only if the code were kept consistent and readable across notebooks.</p>
<p>To sum up, I found using a code formatter while writing code in Jupyter made me a lot more productive and it&rsquo;s something I will thank myself for  if I ever need to reread an old notebook.</p>
<p><strong>I hope you enjoyed it!</strong></p>

        
          <div class="blog-tags">
            
              <a href="https://ricardoanderegg.com//tags/pandas/">pandas</a>&nbsp;
            
              <a href="https://ricardoanderegg.com//tags/formatting/">formatting</a>&nbsp;
            
              <a href="https://ricardoanderegg.com//tags/black/">black</a>&nbsp;
            
              <a href="https://ricardoanderegg.com//tags/code/">code</a>&nbsp;
            
              <a href="https://ricardoanderegg.com//tags/comprehension/">comprehension</a>&nbsp;
            
              <a href="https://ricardoanderegg.com//tags/list/">list</a>&nbsp;
            
          </div>
        

        
            <hr/>
            <section id="social-share">
              <div class="list-inline footer-links">
                

<div class="share-box" aria-hidden="true">
    <ul class="share">
      
      <li>
        <a href="//twitter.com/share?url=https%3a%2f%2fricardoanderegg.com%2fposts%2fblack_jupyter%2f&amp;text=Black%20%e2%9d%a4%20Jupyter&amp;via=ricardoanderegg" target="_blank" title="Share on Twitter">
          <i class="fab fa-twitter"></i>
        </a>
      </li>
  
      
      <li>
        <a href="//www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fricardoanderegg.com%2fposts%2fblack_jupyter%2f" target="_blank" title="Share on Facebook">
          <i class="fab fa-facebook"></i>
        </a>
      </li>
  
      
      <li>
        <a href="//reddit.com/submit?url=https%3a%2f%2fricardoanderegg.com%2fposts%2fblack_jupyter%2f&amp;title=Black%20%e2%9d%a4%20Jupyter" target="_blank" title="Share on Reddit">
          <i class="fab fa-reddit"></i>
        </a>
      </li>
  
      
      <li>
        <a href="//www.linkedin.com/shareArticle?url=https%3a%2f%2fricardoanderegg.com%2fposts%2fblack_jupyter%2f&amp;title=Black%20%e2%9d%a4%20Jupyter" target="_blank" title="Share on LinkedIn">
          <i class="fab fa-linkedin"></i>
        </a>
      </li>
  
      
      <li>
        <a href="//www.stumbleupon.com/submit?url=https%3a%2f%2fricardoanderegg.com%2fposts%2fblack_jupyter%2f&amp;title=Black%20%e2%9d%a4%20Jupyter" target="_blank" title="Share on StumbleUpon">
          <i class="fab fa-stumbleupon"></i>
        </a>
      </li>
  
      
      <li>
        <a href="//www.pinterest.com/pin/create/button/?url=https%3a%2f%2fricardoanderegg.com%2fposts%2fblack_jupyter%2f&amp;description=Black%20%e2%9d%a4%20Jupyter" target="_blank" title="Share on Pinterest">
          <i class="fab fa-pinterest"></i>
        </a>
      </li>
    </ul>
  </div>
  

              </div>
            </section>
        

        
      </article>

      
        <ul class="pager blog-pager">
          
          
            <li class="next">
              <a href="https://ricardoanderegg.com/posts/notebook_linking/" data-toggle="tooltip" data-placement="top" title="Linking notebooks">Next Post &rarr;</a>
            </li>
          
        </ul>
      


      
        
          
          <div class="disqus-comments">
            <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "rand-netlify" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
          </div>
          
        
        
      

    </div>
  </div>
</div>

      
<footer>
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <ul class="list-inline text-center footer-links">
          
              <li>
                <a href="mailto:ricardo.anderegg@gmail.com" title="Email me">
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fas fa-envelope fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
                <a href="https://github.com/polyrand" title="GitHub">
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fab fa-github fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
                <a href="https://gitlab.com/polyrand" title="GitLab">
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fab fa-gitlab fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
                <a href="https://twitter.com/ricardoanderegg" title="Twitter">
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fab fa-twitter fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
                <a href="https://linkedin.com/in/ricardoanderegg" title="LinkedIn">
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fab fa-linkedin fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
                <a href="https://telegram.me/rick_dolphin" title="Telegram">
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fab fa-telegram fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
          
          <li>
            <a href="" title="RSS">
              <span class="fa-stack fa-lg">
                <i class="fas fa-circle fa-stack-2x"></i>
                <i class="fas fa-rss fa-stack-1x fa-inverse"></i>
              </span>
            </a>
          </li>
          
        </ul>
        <p class="credits copyright text-muted">
          
            
              <a href="ricardoanderegg.com">Ricardo Ander-Egg</a>
            
          

          &nbsp;&bull;&nbsp;&copy;
          
            2020
          

          
            &nbsp;&bull;&nbsp;
            <a href="https://ricardoanderegg.com/">rand[om]</a>
          
        </p>
        
        <p class="credits theme-by text-muted">
          <a href="https://gohugo.io">Hugo v0.65.2</a> powered &nbsp;&bull;&nbsp; Theme <a href="https://github.com/halogenica/beautifulhugo">Beautiful Hugo</a> adapted from <a href="https://deanattali.com/beautiful-jekyll/">Beautiful Jekyll</a>
          
        </p>
      </div>
    </div>
  </div>
</footer><script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.js" integrity="sha384-K3vbOmF2BtaVai+Qk37uypf7VrgBubhQreNQe9aGsz9lB63dIFiQVlJbr92dw2Lx" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/contrib/auto-render.min.js" integrity="sha384-kmZOZB5ObwgQnS/DuDg6TScgOiWWBiVt0plIRkZCmE6rDZGrEOQeHM5PcHi+nyqe" crossorigin="anonymous"></script>
<script src="https://code.jquery.com/jquery-1.12.4.min.js" integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<script src="https://ricardoanderegg.com/js/main.js"></script>
<script src="https://ricardoanderegg.com/js/highlight.min.js"></script>
<script> hljs.initHighlightingOnLoad(); </script>
<script> $(document).ready(function() {$("pre.chroma").css("padding","0");}); </script><script> renderMathInElement(document.body); </script><script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.js" integrity="sha384-QELNnmcmU8IR9ZAykt67vGr9/rZJdHbiWi64V88fCPaOohUlHCqUD/unNN0BXSqy" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe-ui-default.min.js" integrity="sha384-m67o7SkQ1ALzKZIFh4CiTA8tmadaujiTa9Vu+nqPSwDOqHrDmxLezTdFln8077+q" crossorigin="anonymous"></script><script src="https://ricardoanderegg.com/js/load-photoswipe.js"></script>









    
  </body>
</html>

